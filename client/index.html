<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/4ad1f9b94b.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
    <title>Mini WP</title>
  </head>
  <body>
    <div id="app">
        <header>
            <!-- Navbar -->
            <nav class="navbar navbar-fixed-top navbar-light bg-dark text-light justify-content-between">
                <a class="navbar-brand"><i class="fab fa-wordpress-simple fa-lg"></i> Mini WP</a>
                <form class="form-inline">
                <i class="far fa-user-circle fa-2x" id="user-img"></i>
                <button class="btn btn-outline-danger my-2 my-sm-0 font-weight-bold" type="submit">Logout</button>
                </form>
            </nav>
        </header>

        <main>
            <div class="container-fluid">
                <div class="row">
                    <!-- SIDEBAR -->
                    <div class="col-md-3" id="sidebar">
                        <div class="row dashboard-items">
                            <div class="col-2">
                                <i class="fas fa-desktop fa-lg dashboard-img"></i>
                            </div>
                            <div class="col-10">Home</div>
                        </div>
                        <div class="row dashboard-items">
                            <div class="col-2">
                                <i class="fas fa-chart-bar fa-lg dashboard-img"></i>
                            </div>
                            <div class="col-10">Stats</div>
                        </div>
                        <div class="row dashboard-items">
                            <div class="col-2">
                                <i class="fas fa-history fa-lg dashboard-img"></i>
                            </div>
                            <div class="col-10">Activity</div>
                        </div>
                        <div class="row dashboard-items">
                            <div class="col-2">
                                <i class="fas fa-clipboard-list fa-lg dashboard-img"></i>
                            </div>
                            <div class="col-10">Plan</div>
                        </div>
                        <div class="dashboard-subtitle">Manage</div>
                        <div class="row dashboard-items">
                            <div class="col-2">
                                <i class="far fa-file-alt fa-lg dashboard-img"></i>
                            </div>
                            <div class="col-10">Site Pages</div>
                        </div>
                        <div class="row dashboard-items active">
                            <div class="col-2">
                                <i class="fas fa-align-left fa-lg dashboard-img"></i>
                            </div>
                            <div class="col-10">Blog Posts</div>
                        </div>
                        <div class="row dashboard-items">
                            <div class="col-2">
                                <i class="far fa-image fa-lg dashboard-img"></i>
                            </div>
                            <div class="col-10">Media</div>
                        </div>
                        <div class="row dashboard-items">
                            <div class="col-2">
                                <i class="fas fa-comments fa-lg dashboard-img"></i>
                            </div>
                            <div class="col-10">Comments</div>
                        </div>
                        <div class="row dashboard-items">
                            <div class="col-2">
                                <i class="fas fa-shapes fa-lg dashboard-img"></i>
                            </div>
                            <div class="col-10">Feedback</div>
                        </div>
                        <div class="row dashboard-items">
                            <div class="col-2">
                                <i class="fas fa-plug fa-lg dashboard-img"></i>
                            </div>
                            <div class="col-10">Plugins</div>
                        </div>
                        <div class="row dashboard-items">
                            <div class="col-2">
                                <i class="fas fa-cloud-download-alt fa-lg dashboard-img"></i>
                            </div>
                            <div class="col-10">Import</div>
                        </div>
                        <div class="dashboard-subtitle">Personalize</div>
                        <div class="row dashboard-items">
                            <div class="col-2">
                                <i class="fas fa-tools fa-lg dashboard-img"></i>
                            </div>
                            <div class="col-10">Import</div>
                        </div>
                    </div>

                    <!-- CONTENT -->
                    <div class="col-md-9" id="content">
                        <div class="d-flex flex-column">

                            <!-- SEARCH DAN BUTTON SWITCHER -->
                            <div class="row justify-content-center p-2 mt-2" id="search">
                                <input type="text" id="search-bar" placeholder="Filter title" v-model="search_box" v-on:keyup="filter">
                                <i class="fas fa-search fa-lg" id="search-img"></i>
                            </div>
                            <div class="row justify-content-center p-2 mt-2">
                                <button class="btn btn-primary mx-2" v-on:click="getArticles">View Articles</button>
                                <button class="btn btn-success mx-2" v-on:click="newArticle">New Article</button>
                            </div>

                            <!-- IF NO ARTICLE FOUND -->
                            <div class="row justify-content-center p-2 m-2" v-if="articles[0] == undefined" v-bind:style="{ display: showNoArticle }">
                                <h4>No article found</h4>
                            </div>

                            <!-- LIST ARTICLE -->
                            <div v-bind:style="{ display: showList }">
                                <div class="row px-4 mt-3 mb-4" >
                                    <div class="card col-sm-6 col-nd-6 col-lg-4 col-xl-3 p-2" style="width: 18rem;" v-for="item in articles">
                                        <img class="card-img-top rounded" v-bind:src="item.picture" alt="Card image cap">
                                        <div class="card-body">
                                        <h5 class="card-title">{{ item.title }}</h5>
                                        <p class="card-text">{{ item.content_preview }}</p>
                                        <div class="row mt-4">
                                            <div class="col-7">
                                                <i class="far fa-eye fa-lg dashboard-img"></i>
                                            </div>
                                            <div class="col-2">
                                                <i class="far fa-edit fa-lg dashboard-img" v-on:click="gotoUpdate(item.title, item.content, item._id)"></i>
                                            </div>
                                            <div class="col-3">
                                                <i class="fas fa-trash-alt fa-lg dashboard-img" style="color: rgb(223, 51, 51);" v-on:click="deleteArticle(item._id)"></i>
                                            </div>
                                        </div>
                                        </div>
                                    </div>                      
                                </div>
                            </div>

                            <!-- WRITE ARTICLE -->
                            <div v-bind:style="{ display: showWrite }">
                                <form action="/upload-single" method="post" enctype="multipart/form-data">
                                    <div class="row px-4 mt-3">
                                        <div class="col-1">
                                            <h4 class="d-inline-block">Title: </h4>
                                        </div>
                                        <div class="col-8">
                                            <input class="d-inline-block" placeholder="Article title" type="text" id="title-box" v-model="newTitle" required>
                                        </div>
                                    </div>
                                    <div class="row px-4 mt-3">
                                        <div class="col-1">
                                            <h4>Image:</h4>
                                        </div>
                                        <div class="col ml-3">
                                            <input type="file" name="file" ref="picture" v-on:change="getImage" />
                                        </div>
                                    </div>
                                    <div class="row px-4 mt-3">
                                        <div class="col-1">
                                            <h4>Content:</h4>
                                        </div>
                                    </div>
                                    <div class="row px-4 mb-4">
                                        <div class="col">
                                            <textarea rows="8" cols="90" v-model="newContent"></textarea>
                                        </div>
                                    </div>
                                </form>
                                <div class="row px-4 mb-4">
                                    <button class="btn btn-outline-primary my-2 my-sm-0 font-weight-bold ml-3" type="submit" v-on:click="publishArticle" v-bind:style="{ display: showPublishBtn }">Publish</button>
                                    <button class="btn btn-outline-danger my-2 my-sm-0 font-weight-bold ml-3" type="submit" v-on:click="updateArticle" v-bind:style="{ display: showUpdateBtn }">Update</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script src="main.js"></script>
  </body>
</html>